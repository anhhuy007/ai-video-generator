erDiagram
    users {
        uuid id PK
        text google_id UK
        text email UK
        text name
        text avatar_url
        timestamp created_at
        timestamp updated_at
    }
    
    gallery {
        uuid id PK
        text video_url UK
        text title
        uuid added_by FK
        timestamp created_at
        integer duration
        text category
    }
    
    gen_history {
        uuid id PK
        uuid user_id FK
        text prompt
        uuid gallery_id FK
        timestamp created_at
    }
    
    youtube {
        uuid id PK
        uuid gen_history_id FK
        text description
        text youtube_url
        text[] tags
        timestamp created_at
        timestamp updated_at
    }
    
    users ||--o{ gallery : "adds"
    users ||--o{ gen_history : "generates"
    gallery ||--o{ gen_history : "referenced_in"
    gen_history ||--o{ youtube : "linked_to"